{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAIA,MAAMC,EAAO,CACTC,MAAOC,SAASC,cAAc,yBAC9BC,UAAWF,SAASC,cAAc,UAClCE,SAAUH,SAASC,cAAc,sBACjCG,QAASJ,SAASC,cAAc,sBAChCI,QAASL,SAASC,cAAc,sBAChCK,MAAON,SAASC,cAAc,oBAC9BM,KAAMP,SAASC,cAAc,oBAsB/BH,EAAKK,SAASK,UAAW,EAEzB,MAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAQC,GACFA,EAAc,GAAK,IAAIH,MACzBI,EAAArB,GAASsB,OAAOC,QAAQ,sCACxBrB,EAAKK,SAASK,UAAW,GAEzBV,EAAKK,SAASK,UAAW,C,IAKpB,EAAAY,EAAAC,SAAUvB,EAAKC,MAAOU,GAEjC,SAASa,EAAeC,GACtB,OAAOA,EAAMC,WAAWC,SAAS,EAAG,I,CAIxC3B,EAAKK,SAASuB,iBAAiB,SAAS,KACtC5B,EAAKI,UAAUyB,MAAMC,MAAQ,OAC7B9B,EAAKK,SAASK,UAAW,EACzBV,EAAKC,MAAMS,UAAW,EACtB,IAAIqB,EAAQC,aAAY,KACtB,IAAIC,EAAY,IAAIlB,KAAKf,EAAKC,MAAMwB,OAAS,IAAIV,KAKjD,GAJGf,EAAKK,SAASK,UAAYV,EAAKC,MAAMS,WACtCV,EAAKC,MAAM4B,MAAMK,OAAS,cAC1BlC,EAAKK,SAASwB,MAAMK,OAAS,eAE3BD,GAAa,EAAG,CAClB,IAAIE,EAtDV,SAAmBC,GAEf,MACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAWZ,MAAO,C,KARME,KAAKC,MAAMN,EAAKI,G,MAEfC,KAAKC,MAAMN,EAAMI,EAAOD,G,QAEtBE,KAAKC,MAAMN,EAAOI,EAAOD,EAAQF,G,QAEjCI,KAAKC,MAAMN,EAAQI,EAAOD,EAAQF,EAZnC,K,CAoDIM,CAAUV,GAC3BjC,EAAKS,KAAKmC,aAAepB,EAAeW,EAAW1B,MACnDT,EAAKQ,MAAMoC,aAAepB,EAAeW,EAAW3B,OACpDR,EAAKO,QAAQqC,aAAepB,EAAeW,EAAW5B,SACtDP,EAAKM,QAAQsC,aAAepB,EAAeW,EAAW7B,SAClD2B,GAAa,MACfjC,EAAKI,UAAUyB,MAAMC,MAAQ,S,MAG/BX,EAAArB,GAASsB,OAAOyB,QAAQ,sBACxB7C,EAAKI,UAAUyB,MAAMC,MAAQ,QAC7BgB,cAAcf,E,GAEf,IAAK,G","sources":["src/js/02-timer.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport flatpickr from \"flatpickr\";\nimport 'flatpickr/dist/flatpickr.min.css';\n\nconst refs = {\n    input: document.querySelector('input#datetime-picker'),\n    timerHtml: document.querySelector('.timer'),\n    btnStart: document.querySelector('button[data-start]'),\n    seconds: document.querySelector('span[data-seconds]'),\n    minutes: document.querySelector('span[data-minutes]'),\n    hours: document.querySelector('span[data-hours]'),\n    days: document.querySelector('span[data-days]'),\n};\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n\n  refs.btnStart.disabled = true;\n\n  const options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      if (selectedDates[0] < new Date()) {\n        Notiflix.Notify.failure('Please choose a date in the future');\n        refs.btnStart.disabled = true;\n      } else {\n        refs.btnStart.disabled = false;\n      }\n    },\n  };\n\n  const fp = flatpickr(refs.input, options);\n\n  function addLeadingZero(value) {\n    return value.toString().padStart(2, '0');\n  }\n\n  \nrefs.btnStart.addEventListener('click', () => {\n  refs.timerHtml.style.color = 'blue';\n  refs.btnStart.disabled = true;\n  refs.input.disabled = true;\n  let timer = setInterval(() => {\n    let countdown = new Date(refs.input.value) - new Date();\n    if(refs.btnStart.disabled && refs.input.disabled) {\n      refs.input.style.cursor = 'not-allowed',\n      refs.btnStart.style.cursor = 'not-allowed'\n    }\n    if (countdown >= 0) {\n      let timeObject = convertMs(countdown);\n      refs.days.inputContent = addLeadingZero(timeObject.days);\n      refs.hours.inputContent = addLeadingZero(timeObject.hours);\n      refs.minutes.inputContent = addLeadingZero(timeObject.minutes);\n      refs.seconds.inputContent = addLeadingZero(timeObject.seconds);\n      if (countdown <= 10000) {\n        refs.timerHtml.style.color = 'tomato';\n      }\n    } else {\n      Notiflix.Notify.success('Countdown finished');\n      refs.timerHtml.style.color = 'black';\n      clearInterval(timer);\n    }\n  }, 1000);\n});\n"],"names":["$iU1Pc","parcelRequire","$84b9dae4df53835d$var$refs","input","document","querySelector","timerHtml","btnStart","seconds","minutes","hours","days","disabled","$84b9dae4df53835d$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","$parcel$interopDefault","Notify","failure","$dbdyf","default","$84b9dae4df53835d$var$addLeadingZero","value","toString","padStart","addEventListener","style","color","timer","setInterval","countdown","cursor","timeObject","ms","minute","second","hour","day","Math","floor","$84b9dae4df53835d$var$convertMs","inputContent","success","clearInterval"],"version":3,"file":"02-timer.3b04bbe8.js.map"}