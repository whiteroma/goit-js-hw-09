{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAIA,MAAMC,EAAO,CACTC,KAAMC,SAASC,cAAc,yBAC7BC,UAAWF,SAASC,cAAc,UAClCE,SAAUH,SAASC,cAAc,sBACjCG,QAASJ,SAASC,cAAc,sBAChCI,QAASL,SAASC,cAAc,sBAChCK,MAAON,SAASC,cAAc,oBAC9BM,KAAMP,SAASC,cAAc,oBAsB/BH,EAAKK,SAASK,UAAW,EAEzB,MAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAQC,GACFA,EAAc,GAAK,IAAIH,MACzBI,EAAArB,GAASsB,OAAOC,QAAQ,sCACxBrB,EAAKK,SAASK,UAAW,GAEzBV,EAAKK,SAASK,UAAW,C,IAKpB,EAAAY,EAAAC,SAAUvB,EAAKC,KAAMU,GAEhC,SAASa,EAAeC,GACtB,OAAOA,EAAMC,WAAWC,SAAS,EAAG,I,CAIxC3B,EAAKK,SAASuB,iBAAiB,SAAS,KACtC5B,EAAKI,UAAUyB,MAAMC,MAAQ,OAC7B,IAAIC,EAAQC,aAAY,KACtB,IAAIC,EAAY,IAAIlB,KAAKf,EAAKC,KAAKwB,OAAS,IAAIV,KAEhD,GADAf,EAAKK,SAASK,UAAW,EACrBuB,GAAa,EAAG,CAClB,IAAIC,EAjDV,SAAmBC,GAEf,MACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAWZ,MAAO,C,KARME,KAAKC,MAAMN,EAAKI,G,MAEfC,KAAKC,MAAMN,EAAMI,EAAOD,G,QAEtBE,KAAKC,MAAMN,EAAOI,EAAOD,EAAQF,G,QAEjCI,KAAKC,MAAMN,EAAQI,EAAOD,EAAQF,EAZnC,K,CA+CIM,CAAUT,GAC3BjC,EAAKS,KAAKkC,YAAcnB,EAAeU,EAAWzB,MAClDT,EAAKQ,MAAMmC,YAAcnB,EAAeU,EAAW1B,OACnDR,EAAKO,QAAQoC,YAAcnB,EAAeU,EAAW3B,SACrDP,EAAKM,QAAQqC,YAAcnB,EAAeU,EAAW5B,SACjD2B,GAAa,MACfjC,EAAKI,UAAUyB,MAAMC,MAAQ,S,MAG/BX,EAAArB,GAASsB,OAAOwB,QAAQ,sBACxB5C,EAAKI,UAAUyB,MAAMC,MAAQ,QAC7Be,cAAcd,E,GAEf,IAAK,G","sources":["src/js/02-timer.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport flatpickr from \"flatpickr\";\nimport 'flatpickr/dist/flatpickr.min.css';\n\nconst refs = {\n    text: document.querySelector('input#datetime-picker'),\n    timerHtml: document.querySelector('.timer'),\n    btnStart: document.querySelector('button[data-start]'),\n    seconds: document.querySelector('span[data-seconds]'),\n    minutes: document.querySelector('span[data-minutes]'),\n    hours: document.querySelector('span[data-hours]'),\n    days: document.querySelector('span[data-days]'),\n};\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n\n  refs.btnStart.disabled = true;\n\n  const options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      if (selectedDates[0] < new Date()) {\n        Notiflix.Notify.failure('Please choose a date in the future');\n        refs.btnStart.disabled = true;\n      } else {\n        refs.btnStart.disabled = false;\n      }\n    },\n  };\n\n  const fp = flatpickr(refs.text, options);\n\n  function addLeadingZero(value) {\n    return value.toString().padStart(2, '0');\n  }\n\n  \nrefs.btnStart.addEventListener('click', () => {\n  refs.timerHtml.style.color = 'blue';\n  let timer = setInterval(() => {\n    let countdown = new Date(refs.text.value) - new Date();\n    refs.btnStart.disabled = true;\n    if (countdown >= 0) {\n      let timeObject = convertMs(countdown);\n      refs.days.textContent = addLeadingZero(timeObject.days);\n      refs.hours.textContent = addLeadingZero(timeObject.hours);\n      refs.minutes.textContent = addLeadingZero(timeObject.minutes);\n      refs.seconds.textContent = addLeadingZero(timeObject.seconds);\n      if (countdown <= 10000) {\n        refs.timerHtml.style.color = 'tomato';\n      }\n    } else {\n      Notiflix.Notify.success('Countdown finished');\n      refs.timerHtml.style.color = 'black';\n      clearInterval(timer);\n    }\n  }, 1000);\n});\n"],"names":["$iU1Pc","parcelRequire","$84b9dae4df53835d$var$refs","text","document","querySelector","timerHtml","btnStart","seconds","minutes","hours","days","disabled","$84b9dae4df53835d$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","$parcel$interopDefault","Notify","failure","$dbdyf","default","$84b9dae4df53835d$var$addLeadingZero","value","toString","padStart","addEventListener","style","color","timer","setInterval","countdown","timeObject","ms","minute","second","hour","day","Math","floor","$84b9dae4df53835d$var$convertMs","textContent","success","clearInterval"],"version":3,"file":"02-timer.e6989b89.js.map"}